/* Date: 2015-01-15T16:53:21Z Path: js/ui/ui.js */
define("drag",function(){"use strict";var e,t={left:["left"],top:["top"],right:["left","Width"],bottom:["top","Height"]},i={axis:null,container:null,handle:null,moveHand:!0,proxy:!1,refresh:!0},o=navigator.userAgent.toLowerCase(),n=o.match(/ms(ie)\s(\d+\.\d)/),r=n&&"ie"===n[1],a=r&&"6.0"===n[2],s={getPosition:function(e,i){var o=e.css("position");if("static"===o)return"auto";if("relative"===o)return"0px";var n,r,a,s,l=t[i][0],d=Jumei.util.capitalize(l),c=e.offset()[l],f="right"===i||"bottom"===i,u=0;return"absolute"===o?(n=e[0].offsetParent,("BODY"===n.tagName||"HTML"===n.tagName)&&(n=window),r=$(n),$.isWindow(n)||(u=parseFloat(r.css("border"+d+"Width"))),a=r.offset()[l]+u):(r=$(window),a=r["scroll"+d]()),c-=a,f?(s=t[i][1],r["inner"+s]()-e["outer"+s]()-c+"px"):c+"px"},getBoundary:function(e,t){var i,o,n=$.isWindow(e[0]),r=0,a=0,l=0,d=0,c=e.offset(),f=t.offset(),u=t.css("top"),p=t.css("left");return"auto"===u&&(u=s.getPosition(t,"top")),"auto"===p&&(p=s.getPosition(t,"left")),n?(i=e.scrollTop(),o=e.scrollLeft()):(i=c.top,o=c.left,r=e.css("borderTopWidth"),a=e.css("borderRightWidth"),l=e.css("borderBottomWidth"),d=e.css("borderLeftWidth"),"medium"===r&&(r="0px"),"medium"===a&&(a="0px"),"medium"===l&&(l="0px"),"medium"===d&&(d="0px"),r=parseFloat(r),a=parseFloat(a),l=parseFloat(l),d=parseFloat(d)),i=i-f.top+parseFloat(u),o=o-f.left+parseFloat(p),{top:i+r,right:o+e.outerWidth()-t.outerWidth()-a,left:o+d,bottom:i+e.outerHeight()-t.outerHeight()-l}},copyPosition:function(e,t){var i=e.offset(),o=t.offset(),n=t.css("top"),r=t.css("left");"auto"===n&&(n=s.getPosition(t,"top")),"auto"===r&&(r=s.getPosition(t,"left")),t.animate({top:i.top-o.top+parseInt(n)+"px",left:i.left-o.left+parseInt(r)+"px"})},createProxy:function(t){var i=t.target,o=i.offset(),n=i.css("zIndex");return n?n=parseInt(n)+1:(i.css("zIndex","1"),n="2"),e||(e=$('<div class="ecope_drag_proxy" style="position:absolute;border:2px dashed #a0a1a2;"/>')),e.css({top:o.top+"px",left:o.left+"px",cursor:t.moveHand?"move":"",width:t.width-4+"px",height:t.height-4+"px",zIndex:n}),e}},l=function(e,t){if(e=$(e).eq(0),t=t||{},e.length){var o,n,l,d,c,f=$.extend({},i,t),u=e.css("position"),p="fixed"===u||a&&void 0!==e[0].style.getExpression("top"),h=e[0].ownerDocument,g=h.defaultView||h.parentWindow,m=$(g),v=f.handle?$(f.handle):e,_=r?v:$(h),x=f.container?$(f.container):null,w=0,y=this,b=f.axis,E=!1,k=f.proxy,I=f.refresh,T="getSelection"in g?function(){g.getSelection().removeAllRanges()}:function(){try{h.selection.empty()}catch(e){}},z=function(t){f.isDown=!0;var i,g,w,$=e;f.width=e.outerWidth(),f.height=e.outerHeight(),I||(u=e.css("position"),"static"===u&&$.css("position","relative")),k&&(n=s.createProxy(f),$=n.appendTo(h.body),r&&(_=n)),f.handle=_,i=$.css("left"),g=$.css("top"),w=$.offset(),"auto"===g&&(g=s.getPosition(e,"top")),"auto"===i&&(i=s.getPosition(e,"left")),I||(c={left:i,top:g}),y.left=i=parseInt(i),y.top=g=parseInt(g),y.offsetLeft=w.left,y.offsetTop=w.top,l=t.pageX-i,d=t.pageY-g,(!o&&x||p)&&(o=s.getBoundary(p?m:x,$)),b&&("x"===b?d=!1:"y"===b&&(l=!1)),r&&_[0].setCapture(),_.on("mousemove.drag",S).on("mouseup.drag",H),r&&_.on("losecapture.drag",H),a&&p&&!k&&e[0].style.removeExpression("top"),v.trigger("likedragstart"),Jumei.ui.Drop&&Jumei.ui.Drop.refresh(),t.stopPropagation(),t.preventDefault()},S=function(t){if(f.isDown&&(w++,w%2!==0)){var i,r,a,s,c,u,p=t.pageX,h=t.pageY,g=t.offsetX,m=t.offsetY,_=k?n[0].style:e[0].style;T(),E=!0,void 0===g&&(g=t.originalEvent.layerX,m=t.originalEvent.layerY),l&&(i=p-l,o&&(a=o.left,s=o.right,i=a>i?a:i>s?s:i),_.left=i+"px",y.left=i,y.offsetLeft=p-g),d&&(r=h-d,o&&(c=o.top,u=o.bottom,r=c>r?c:r>u?u:r),_.top=r+"px",y.top=r,y.offsetTop=h-m),e.trigger("likedrag",[p,h]),!Jumei.ui.Drop||t.target!==v[0]&&"ecope_drag_proxy"!==t.target.className||Jumei.ui.Drop.fire(f,t,!0),t.stopPropagation()}},H=function(t){void 0===t.offsetX&&(t.offsetX=t.originalEvent.layerX,t.offsetY=t.originalEvent.layerY),f.isDown=!1,r&&_.off("losecapture.drag"),_.off("mousemove.drag mouseup.drag"),r&&_[0].releaseCapture(),E?(k?I?s.copyPosition(n,e):e.css("position","static"===u?"":u):I||e.css(c),a&&p&&!k&&e[0].style.setExpression("top","fuckIE6=document.documentElement.scrollTop+"+(y.top-m.scrollTop())+'+"px"'),E=!1,Jumei.ui.Drop&&Jumei.ui.Drop.fire(f,t,!1)):I||"static"!==u||e.css("position",""),k&&n.remove(),v.trigger("likedragend"),t.stopPropagation()};I&&"static"===u&&e.css("position","relative"),f.moveHand&&v.css("cursor","move"),v.on("mousedown.drag",z),f.originHandle=v,f.target=e,y.__o__=f}};l.prototype={destroy:function(){if(this.__o__){var e=this.__o__;e.originHandle.css("cursor","").off("mousedown.drag likedragstart likedragend"),e.isDown&&e.handle.trigger("mouseup"),e.target.off("likedrag"),this.__o__=e=null,delete this.__o__}},on:function(e,t){if(!this.__o__)return this;var i=this,o=this.__o__,n="drag"===e,r=n?o.target:o.originHandle;return r.on("like"+e,function(n,r,a){n.type=e,n.drag=o.target[0],r&&(n.pageX=r,n.pageY=a),t.call(i,n),n.stopPropagation()}),this},un:function(e){if(!this.__o__)return this;var t=this.__o__,i="drag"===e?t.target:t.originHandle;return i.off("like"+e),this}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Drag=l}),define("tab",function(){"use strict";var e={auto:!1,duration:200,easing:"swing",effects:null,interval:3e3,init:null,trigger:"click"},t={initLayout:function(e){var t,i,o,n,r=e.contentElem,a=e.boxElem,s=a.outerWidth(),l=a.outerHeight(),d=parseInt(e.menuElem.filter("data-index"));return"slideX"===e.effects?(t=s,i="width",o="left",n="left"):(t=l,i="height",o="top",n="none"),e.wrapElem.css({overflow:"hidden",position:"relative",width:s+"px",height:l+"px"}),r.css(i,t*a.length+"px").css("position","absolute"),d&&r.css(o,"-"+t*d+"px"),a.css({"float":n,display:"block"}),t},initMenu:function(e){var i,o=t.patterns[e.effects],n=e.contentElem,r=e.menuElem,a=e.trigger;r.each(function(e){var t=$(this);t.attr("data-index",e)}),"click"===a?r.on("click.tab",function(){n.is(":animated")&&n.stop(!0,!0),o(e,this)}):"mouseenter"===a&&r.on("mouseenter.tab",function(){var t=this;i=setTimeout(function(){n.is(":animated")&&n.stop(!0,!0),o(e,t)},50)}).on("mouseleave.tab",function(){clearTimeout(i),i=null})},clear:function(e){clearInterval(e.timer),e.timer=null},autoRun:function(e){e.timer=setInterval(function(){t.patterns[e.effects](e)},e.interval)}};t.patterns={normal:function(e,t){var i,o=e.menuElem,n=e.boxElem,r=o.length,a=o.filter(".current"),s=parseInt(a.attr("data-index"));r--,t?(t=$(t),i=parseInt(t.attr("data-index"))):(i=s===r?0:s+1,t=o.eq(i)),a.removeClass("current"),t.addClass("current").trigger("likeinit"),n.eq(s).hide(),n.eq(i).show(),e.target.trigger("likechange")}},$.each({slideX:["left","width"],slideY:["top","height"]},function(e,i){var o=i[0],n=i[1];t.patterns[e]=function(e,t){var i,r,a,s,l=e.boxElem,d=e.menuElem,c=e.contentElem,f=e.size,u=d.length,p=d.filter(".current"),h=parseInt(p.attr("data-index")),g=parseInt(c.css(n)),m=parseInt(c.position()[o]),v=1,_={},x=!1,w=function(){e.target.trigger("likechange")};if(u--,void 0!==t){if(t=$(t),s=parseInt(t.attr("data-index")),s===h)return;s>h?(x=!1,v=s-h):(x=!0,v=h-s)}else s=x?h-1:h===u?0:h+1,t=d.eq(s);a=f*v,x?m+=a:(m-=a,h===u&&(i=l.first(),r=g+"px",w=function(){c.css(o,"0px"),i.css("position","").css(o,""),e.target.trigger("likechange")})),_[o]=m+"px",p.removeClass("current"),t.addClass("current").trigger("likeinit"),i&&i.css("position","relative").css(o,r),c.animate(_,e.duration,e.easing,w)}});var i=function(i,o){if(i=$(i).eq(0),o=o||{},i.length){var n=$.extend({},e,o),r=n.effects||"normal",a=t;n.effects=r,n.target=i,n.menuElem=i.children("ul.tab_menu").children("li"),n.wrapElem=i.children("div.tab_wrapper"),n.contentElem=n.wrapElem.children("div.tab_content"),n.boxElem=n.contentElem.children("div.tab_box"),a.initMenu(n),r&&"normal"!==r&&(n.size=a.initLayout(n)),n.init&&(n.init.call(i[0]),delete n.init),n.auto&&(i.on("mouseenter.tab",function(){t.clear(n)}).on("mouseleave.tab",function(){t.autoRun(n)}),t.autoRun(n)),this.__o__=n}};i.prototype={destroy:function(){if(this.__o__){var e=this.__o__;e.auto&&(t.clear(e),e.target.off("mouseenter.tab mouseleave.tab")),e.target.off("likechange"),e.menuElem.off("click.tab mouseenter.tab mouseleave.tab"),this.__o__=e=null,delete this.__o__}},on:function(e,t){if(!this.__o__)return this;var i=this,o=i.__o__,n="init"===e,r=o.menuElem,a=n?r.not(".current"):o.target,s=n?"one":"on";return a[s]("like"+e,function(n){var a=r.filter(".current");n.index=a.attr("data-index"),n.target=o.boxElem[n.index],n.menu=a[0],n.type=e,t.call(i,n),n.stopPropagation()}),this},un:function(e){return this.__o__&&this.__o__.target.off("like"+e),this},pause:function(){var e=this.__o__;e&&(t.clear(e),e.auto&&e.target.off("mouseleave.tab"))},play:function(){var e=this.__o__;e&&(t.autoRun(e),e.auto&&e.target.on("mouseleave.tab",function(){t.autoRun(e)}))}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Tab=i}),define("timer",function(){"use strict";var e={format:"<em>DD</em><em>HH</em><em>MM</em><em>SS</em>",dtime:1e3,scroll:!0,onStart:function(){},onEnd:function(){}},t={start:function(e){var i=this.getDiffs(e.selector);e._timer=setInterval(function(){if(i.length>0&&t.dealTimer(e,i),e.diffs&&e.diffs.length>0)for(var o=0;o<e.diffs.length;o++)t.dealTimer(e.diffs[o].option,e.diffs[o].data)},e.dtime)},dealTimer:function(e,i){for(var o={},n=0;n<i.length;n++){var r=i[n].diff=i[n].diff-e.dtime/1e3;(!e.scroll||t.bindScroll(i[n].$selector))&&(o.$target=i[n].$selector,r&&r>0?(o.html=Jumei.util.getDifTime(r,e.format),e.onStart.apply(o)):(e.onEnd.apply(o),i.splice(n,1),n--))}},getDiffs:function(e){var t=[];return e.each(function(){$(this).attr("diff")&&$(this).attr("diff")>0&&t.push({$selector:$(this),diff:$(this).attr("diff")})}),t},bindScroll:function(e){var t=$(window),i=t.scrollTop(),o=i+t.height(),n=e.offset();return n.top+30>i&&n.top<o}},i=function(i,o){var n=$.extend({},e,o);n.selector=i,this.__o=n,t.start(this.__o)};i.prototype={stop:function(){clearInterval(this.__o._timer)},add:function(i,o){var n=$.extend({},e,o),r={data:t.getDiffs(i),option:n};this.__o.diffs instanceof Array?this.__o.diffs.push(r):this.__o.diffs=[r]}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.TimeCounter=i}),define("anchorbar",function(){"use strict";var e=navigator.userAgent.toLowerCase(),t=e.match(/ms(ie)\s(\d+\.\d)/),i=null!==t&&"ie"===t[1]&&"6.0"===t[2],o=document.documentElement,n=$("body,html"),r=$(document.body),a=$(window),s={hash:!1,fixedHeight:!1,animation:!1,zIndex:1001,height:0,lazy:!1};$.easing.easeOutStrong=function(e){return 1- --e*e*e*e};var l={createPlaceholderElem:function(e){var t,i,o,n,r,a,s,l,d,c,f,u=e.target,p=u.css("position");"absolute"!==p&&(i=u.outerWidth(),o=u.outerHeight(),n=u.css("marginTop"),r=u.css("marginRight"),a=u.css("marginBottom"),s=u.css("marginLeft"),l=u.css("top"),d=u.css("right"),c=u.css("bottom"),f=u.css("left"),t='<div style="width:'+i+"px;height:"+o+"px;padding:0;margin:"+n+" "+r+" "+a+" "+s+";top:"+l+";right:"+d+";bottom:"+c+";left:"+f+';"/>',e.placeholderElem=$(t))},reComuputedOffset:function(e){for(var t=e.offsets,i=e.targetElems,o=e.targetElems.length,n=e.height,r=0;o>r;r++)t[r]=i[r].offset().top-n;e.minScrollTop=t[e.minIndex],e.maxScrollTop=t[e.maxIndex]+i[e.maxIndex].outerHeight()},monitorScroll:function(e,t){var i,o,n,r=e.anchorElems,a=e.offsets,s=a.length,l=e.target.find("a.current"),d=0;if(e.minScrollTop>t||e.maxScrollTop<t)l.removeClass("current"),e.hash&&(window.location.hash="#anchorbarfixed");else for(;s>d;d++)if(i=a[d],o=a[d+1],n=r[d],t>=i&&(void 0===o||o>t)){n.hasClass("current")||(l.removeClass("current"),n.addClass("current"),e.hash&&(window.location.hash=n[0].getAttribute("href")));break}},bindClick:function(e,i,o){i.on("click.anchorbar",function(r){if(e.animation){var a=e.offsets[o],s=Math.round(.33*a);200>s?s=200:s>600&&(s=600),null!==t&&"ie"===t[1]&&parseInt(t[2])<9?n.scrollTop(a):n.animate({scrollTop:a+1},s,"easeOutStrong",function(){e.hash&&(window.location.hash=i[0].getAttribute("href"))}),r.preventDefault()}})},lazyContent:function(e){for(var t,i=e.targetElems,o=a.scrollTop(),n=o+a.height(),r=0;r<i.length;r++)if(t=i[r],"loaded"!==t.attr("loaded")){var s=t.offset();if(s.top-200>o&&s.top<n||s.top>o&&s.top<n){var l=t.find("textarea").val();t.attr("loaded","loaded"),t.find("textarea").parent().html(l),t.find("textarea").css("visibility","visible")}}},bindScroll:function(e){a.on("scroll.anchorbar",function(){var t=a.scrollTop(),o=e.target;e.animation||e.lazy||l.lazyContent(e),e.fixed?(e.fixedHeight||l.reComuputedOffset(e),t<=e.targetOffsetTop?(e.fixed=!1,o.css({position:"",top:"",left:"",zIndex:""}),i&&(e.placeholderElem.before(o),o[0].style.removeExpression("top")),null!=e.placeholderElem&&e.placeholderElem.remove(),o.trigger("likefixedend")):l.monitorScroll(e,t)):t>e.targetOffsetTop&&(e.fixed=!0,o.css({position:"fixed",top:"0px",left:e.targetOffsetLeft+"px",zIndex:e.zIndex}).before(e.placeholderElem).trigger("likefixedstart"),i&&(o.css("position","absolute"),r.append(o),o[0].style.setExpression("top",'fuckIE6=document.documentElement.scrollTop + "px"')))})},init:function(e){var t,n,r,a=e.height,s=0,d=0;e.items.each(function(i){var o=$(this),c=this.hash;c.length>1&&(n=$(c),n.length&&(t=n.offset().top-a,e.offsets[i]=t,l.bindClick(e,o,i),e.anchorElems.push(o),e.targetElems.push(n),s?s>t&&(s=t,e.minIndex=i):(s=t,e.minIndex=i),t>d&&(d=t,r=n,e.maxIndex=i)))}),e.minScrollTop=s,e.maxScrollTop=d+r.outerHeight(),l.createPlaceholderElem(e),i&&"fixed"!==o.currentStyle.backgroundAttachment&&(o.style.backgroundImage="url(about:blank)",o.style.backgroundAttachment="fixed"),l.bindScroll(e)}},d=function(e,t){e=$(e);var i=$.extend({},s,t),o=e.offset();this.__o__=i,$.extend(i,{target:e,items:e.find("a"),fixed:!1,anchorElems:[],targetElems:[],offsets:[],minScrollTop:null,maxScrollTop:null,minIndex:null,maxIndex:null,placeholderElem:null,targetOffsetTop:o.top,targetOffsetLeft:o.left}),i.height||(i.height=e.outerHeight()),l.init(i)};d.prototype={destroy:function(){if(this.__o__){var e=this.__o__;e.target.off("likefixedstart likefixedend"),e.items.off("click.anchorbar"),a.off("scroll.anchorbar"),e.placeholderElem.remove(),this.__o__=e=null,delete this.__o__}},on:function(e,t){if(!this.__o__)return this;var i=this,o=i.__o__;return o.target.on("like"+e,function(o){o.type=e,t.call(i,o),o.stopPropagation()}),this},un:function(e){return this.__o__&&this.__o__.target.off("like"+e),this}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Anchorbar=d}),define("carousel",function(){"use strict";var e={index:0,indexSwitch:!0,imglazyload:!1};$.easing.easeInStrong=function(e){return e*e*e*e};var t={loadImg:function(e,t){var i,o,n=e.wrapOffset,r=n+e.wrapWidth,a=t.offset().left;return a>=n&&r>a&&(o=t.find("img"),i=o.attr("data-lazysrc"))?(o[0].src=i,o.removeAttr("data-lazysrc"),!0):!1},lazyLoad:function(e){for(var i=e.beLoaded,o=0;o<i.length;o++)t.loadImg(e,i[o])&&i.splice(o--,1)},init:function(e){var i=e.listElem,o=e.imglazyload;e.wrapElem.css("overflow","hidden"),i.css({width:e.listWidth+"px",left:"0px"}),e.indexSwitch&&(e.wrapOffset=Math.floor(e.wrapElem.offset().left),o&&(e.beLoaded=[]),e.itemElem.each(function(i){var n=$(this);n.attr("data-index",i),e.index===i&&n.addClass("current"),o&&!t.loadImg(e,n)&&e.beLoaded.push(n)}),i.on("click.carousel","li",function(){var o=$(this);i.stop(!0,!0),!o.hasClass("current")&&o.parent().hasClass("cs_list")&&(t.switchHandle(e,o,!0),i.find("li.current").removeClass("current"),o.addClass("current"))}),e.index&&t.switchHandle(e,e.itemElem.eq(+e.index))),e.slide&&(e.prevElem.on("click.carousel",function(o){i.stop(!0,!0),t.slide(e,!0),o.preventDefault()}),e.nextElem.on("click.carousel",function(o){i.stop(!0,!0),t.slide(e),o.preventDefault()})),setTimeout(function(){e.target.trigger("likelayout")},50)},slide:function(e,i){var o,n,r,a=e.target,s=e.listElem,l=Math.abs(parseInt(s.css("left"))),d=e.wrapWidth,c=e.listWidth-d;if(i){if(0===l)return;d>l?(o=l,r="liketoStart"):o=d,n="+="}else{if(l===c)return;l+d>c?(o=c-l,r="liketoEnd"):o=d,n="-="}s.animate({left:n+o+"px"},400,"easeInStrong",function(){e.imglazyload&&t.lazyLoad(e),r&&a.trigger(r)})},switchHandle:function(e,i,o){var n,r,a,s,l,d,c,f,u=e.target,p=e.listElem;e.slide&&(f=e.wrapWidth,n=Math.abs(parseInt(p.css("left"))),r=n+f/2,a=Math.floor(i.offset().left)-e.wrapOffset+n,s=e.listWidth-f,a>r?(l=a-r,n+l>s&&(l=s-n,c="liketoEnd"),d="-="):0!==n&&(l=r-a,l>n&&(l=n,c="liketoStart"),d="+="),l?p.animate({left:d+l+"px"},400,"easeInStrong",function(){t.lazyLoad(e),c&&u.trigger(c),u.trigger("likeslided",[i[0],i.attr("data-index")])}):t.lazyLoad(e)),e.indexSwitch&&o&&u.trigger("likechange",[i[0],i.attr("data-index")])}},i=function(i,o){i=$(i).first(),o=o||{};var n,r=$.extend({},e,o);r.target=i,r.wrapElem=i.find("div.cs_wrapper"),r.listElem=i.find("ul.cs_list"),r.prevElem=i.find("a.cs_prev"),r.nextElem=i.find("a.cs_next"),r.itemElem=n=r.listElem.children("li"),r.itemWidth=n.outerWidth(),r.listWidth=r.itemWidth*n.length,r.wrapWidth=r.wrapElem.outerWidth(),r.listWidth<=r.wrapWidth?(r.prevElem.hide(),r.nextElem.hide(),r.slide=!1):(r.prevElem.show(),r.nextElem.show(),r.slide=!0),r.index=+r.index,t.init(r),this.__o__=r};i.prototype={destroy:function(){if(this.__o__){var e=this.__o__;e.target.off("likechange liketoStart liketoEnd"),e.listElem.off("click.carousel"),e.prevElem.off("click.carousel"),e.nextElem.off("click.carousel"),e.itemElem.filter(".current").removeClass("current"),this.__o__=e=null,delete this.__o__}},on:function(e,t){if(this.__o__){var i=this;this.__o__.target.on("like"+e,function(o,n,r){n&&(o.target=n,o.index=+r),o.type=e,t.call(i,o),o.stopPropagation()})}return this},un:function(e){return this.__o__&&this.__o__.target.off("like"+e),this},change:function(e){var i=this.__o__,o=i.itemElem.eq(e),n=i.listElem;return o.hasClass("current")||(n.stop(!0,!0),t.switchHandle(i,o),n.find("li.current").removeClass("current"),o.addClass("current")),this},splice:function(e,i,o){var n,r,a,s,l=this.__o__,d=l.listElem,c=l.itemElem.length;n=l.itemElem.eq(i),n.after(e),r=l.itemElem=d.children("li"),a=r.length,s=a-c+i+1,l.listWidth=l.itemWidth*a,d.css("width",l.listWidth+"px"),r.each(function(e){var t=$(this);t.attr("data-index",e),s>e&&e>i&&l.beLoaded.push(t)}),t.lazyLoad(this.__o__),o.call(this,n)},prepend:function(e,t){var i,o,n,r=this.__o__,a=r.listElem,s=r.itemElem.length,l=parseInt(a.css("left"));a.prepend(e),i=r.itemElem=a.children("li"),o=i.length,n=o-s,r.listWidth=r.itemWidth*o,a.css({width:r.listWidth+"px",left:l-r.itemWidth*n+"px"}),i.each(function(e){var t=$(this);t.attr("data-index",e),n>e&&r.beLoaded.push(t)}),$.isFunction(t)&&t.call(this)},append:function(e,t){var i,o,n,r=this.__o__,a=r.listElem,s=r.itemElem.length;for(a.append(e),i=r.itemElem=a.children("li"),o=i.length,r.listWidth=r.itemWidth*o,a.css("width",r.listWidth+"px"),n=s-1;o>n;n++)r.beLoaded.push(i.eq(n).attr("data-index",n));$.isFunction(t)&&t.call(this)}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Carousel=i}),define("dialog",["drag"],function(e){"use strict";e("drag"),$.easing.easeIn=function(e){return e*e},$.easing.easeOut=function(e){return(2-e)*e},$.easing.easeInStrong=function(e){return e*e*e*e},$.easing.easeOutStrong=function(e){return 1- --e*e*e*e};var t,i,o,n,r,a,s,l,d,c,f,u,p,h,g={autoClose:null,content:"Hello world : )",title:null,yesText:"确定",noText:"取消",yesFn:null,noFn:null,width:"320px",height:"auto",top:null,left:null,trigger:"click",overlay:!0,overlayClose:!1,fixed:!0,lock:!1,effects:null,zIndex:9999,drag:!1,topWindow:!1,elem:null,dragHandle:null},m=!!~navigator.userAgent.toLowerCase().indexOf("msie 6.0"),v={getDocSize:function(e){var t=Jumei.util.capitalize(e);return Math.max(f["scroll"+t],f["client"+t])},appendIframe:function(e){var t,i='<iframe class="ecope_bg_iframe" frameborder="0" tabindex="-1" src="javascript:false;" style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;border:0 none;filter:alpha(opacity=0)"/>';e.children("iframe.ecope_bg_iframe").length||(t=$(i,c),e.prepend(t))},createOverlay:function(e){if(!t){var i='<div class="ecope_overlay" style="margin:0;padding:0;display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:'+e+'"/>';t=$(i,c).appendTo(h),m&&(t.css("position","absolute"),v.appendIframe(t),t.append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;" />'))}},createDialogBox:function(e,t){if(!i){var o='<div class="ecope_dialog" style="padding:0;display:none;z-index:'+e+'"/>';i=$(o,c),m&&!t&&v.appendIframe(i),h.append(i)}},createDialogContent:function(e){var t,s,l,d,f,u,p=i.children().last();return e.elem?(p.length&&(p.hide(),h.append(p)),a&&(a.remove(),a=null),i.append(e.elem),void e.elem.show()):(t=$.isFunction(e.yesFn),s=$.isFunction(e.noFn)||e.noFn===!0,l=t||s,u=function(t){v.close(e),t&&t.preventDefault()},a?(d=a.find("div.dg_header"),o=a.find("a.dg_btn_yes"),n=a.find("a.dg_btn_no"),a.find("div.dg_content").html(e.content),e.title?d.html(e.title).show():d.hide(),t?(o.text(e.yesText).show(),l=!0):o.hide(),s?(n.text(e.noText).show(),l=!0):n.hide(),a.find("div.dg_footer")[l?"show":"hide"]()):(f='<div class="dg_wrapper"><a href="###" class="dg_btn_close">&times;</a><div class="dg_header"'+(e.title?"":' style="display:none"')+">"+e.title+'</div><div class="dg_content">'+e.content+'</div><div class="dg_footer"'+(l?"":' style="display:none"')+'><a href="###" class="dg_btn_no"'+(s?"":' style="display:none"')+">"+e.noText+'</a><a href="###" class="dg_btn_yes"'+(t?"":' style="display:none"')+">"+e.yesText+"</a></div></div>",a=$(f,c),p.length&&(p.hide(),h.append(p)),i.append(a),o=a.find("a.dg_btn_yes"),n=a.find("a.dg_btn_no")),a.css({width:e.width,height:e.height}),t&&o.on("click.dialog",function(t){e.yesFn.call(i[0],t)!==!1&&v.close(e),t.preventDefault()}),s&&(u=function(t){e.noFn.call(i[0],t)!==!1&&v.close(e),this.href&&t.preventDefault()},n.on("click.dialog",u)),r=a.find("a.dg_btn_close"),void(e.lock?r.hide():(r.show(),r.on("click.dialog",u))))},resize:function(e){var o,n=e.data.o,r=u.width()/2,a=u.height()/2,s={};m&&i[0].style.removeExpression("top"),!n.fixed||m?(s.top=a+u.scrollTop()+"px",s.left=r+u.scrollLeft()+"px"):(s.top=a+"px",s.left=r+"px"),o=function(){var e=new $.Deferred;return n.effects?i.animate(s,function(){e.resolve()}):(i.css(s),e.resolve()),e.promise()},o().then(function(){n.overlay&&m&&(t.css({width:"100%",height:"100%"}),t.css({width:v.getDocSize("width")+"px",height:v.getDocSize("height")+"px"})),v.bindExpression(n)})},setPosition:function(e){var t={},o=u.width()/2,n=u.height()/2,r=e.elem||a;!e.fixed||m?(t.position="absolute",t.top=n+u.scrollTop()+"px",t.left=o+u.scrollLeft()+"px"):(t.position="fixed",t.top=n+"px",t.left=o+"px"),t.marginTop="-"+r.outerHeight()/2+"px",t.marginLeft="-"+r.outerWidth()/2+"px",e.top&&(t.top=e.top,t.marginTop=""),e.left&&(t.left=e.left,t.marginLeft=""),i.css(t)},bindExpression:function(e){if(m&&e.fixed){"fixed"!==f.currentStyle.backgroundAttachment&&(f.style.backgroundImage="url(about:blank)",f.style.backgroundAttachment="fixed");var t="fuckIE6=document.documentElement.scrollTop+"+(parseInt(e.top)||document.documentElement.clientHeight/2)+'+"px"';i[0].style.setExpression("top",t)}},bindDrag:function(e){if(e.drag){var t=e.dragHandle||i.find("div.dg_header");t.length&&t.is(":visible")&&(s=new Jumei.ui.Drag(i,{handle:t}))}},patterns:function(e,t){var o,n=i[0].style,r=n.top,a=n.left,s="from",l="to",d="Out",c="fixed"===n.position,f=(i.offset(),parseInt(r)),p=parseInt(a),h=i.outerWidth(),g=i.outerHeight(),m={},v={opacity:"",width:"",height:"",overflow:"",top:r,left:a};switch(t&&(s="to",l="from",d="In",v.display="none"),e){case"fade":m[s]={opacity:"0",top:f-50+"px"},m[l]={opacity:"1",top:f+"px"},m.duration=200;break;case"slide":o=c?0:u.scrollTop(),m[s]={top:o-g/2+"px"},m[l]={top:f+"px"},m.easing="ease"+d+"Strong";break;case"zoom":m[s]={opacity:"0",left:p+h/2+"px",top:f+g/2+"px",width:"0px",height:"0px"},m[l]={opacity:"1",left:p+"px",top:f+"px",width:h+"px",height:g+"px"},m.duration=200,m.easing="ease"+d}return[m,v]},open:function(e){var n,r=e.effects,a=function(t){return function(){i.css(t),v.bindExpression(e),v.bindDrag(e),e.elem||o.is(":visible")&&o[0].focus(),e.top||e.left||u.on("resize.dialog",{o:e},v.resize),e.target.trigger("likeopen")}};r?(n=function(){var i=$.Deferred(),o=t.css("opacity");return e.overlay?t.css({visibility:"",opacity:"0"}).animate({opacity:o},200,function(){i.resolve()}):i.resolve(),i.promise()},n().then(function(){var e=v.patterns(r,!1),t=e[0];t.complete=a(e[1]),i.css({visibility:"",overflow:"zoom"===r?"hidden":""}).css(t.from).animate(t.to,t.duration,t.easing,t.complete)})):(e.overlay&&t.css("visibility",""),a({visibility:""})())},close:function(e){var d,c=e.effects;l&&(clearTimeout(l),l=null),m&&e.fixed&&(i[0].style.removeExpression("top"),f.style.backgroundImage="",f.style.backgroundAttachment=""),c?(d=function(){var e=$.Deferred(),t=v.patterns(c,!0),o=t[0];return o.complete=function(){i.css(t[1]),e.resolve()},i.css("overflow","zoom"===c?"hidden":"").css(o.from).animate(o.to,o.duration,o.easing,o.complete),e.promise()},d().then(function(){if(e.overlay){var i=t.css("opacity");t.animate({opacity:"0"},200,function(){t.css({display:"none",opacity:i}),e.elem&&e.elem.hide()})}})):(t.hide(),i.hide(),e.elem&&e.elem.hide()),s&&(s.destroy(),s=null),a&&(o.off("click.dialog"),n.off("click.dialog"),r.off("click.dialog")),u.off("resize.dialog"),p.off("keyup.dialog"),e.overlayClose&&t.off("click.dialog"),e.target.trigger("likeclose")},init:function(e){i&&i.length&&i.is(":visible")&&(t.hide(),i.hide()),v.createOverlay(e.zIndex),v.createDialogBox(e.zIndex+1,e.overlay),v.createDialogContent(e),e.overlay&&(t.css({visibility:"hidden",display:"block"}),e.overlayClose&&t.on("click.dialog",function(){v.close(e)}),m&&t.css({width:v.getDocSize("width")+"px",height:v.getDocSize("height")+"px"})),i.css({visibility:"hidden",display:"block"}),v.setPosition(e),v.open(e),e.lock||p.on("keyup.dialog",function(t){27===t.which&&v.close(e)}),e.autoClose&&(l=setTimeout(function(){v.close(e)},e.autoClose))}},_=function(e,t){if(e=$(e),t=t||{},e.length){var i=$.extend({},g,t);d=i.topWindow?window.top:window,c=d.document,f=c.documentElement,u=$(d),p=$(c),h=$(c.body),i.elem&&(i.elem=$(i.elem).eq(0),i.elem.length||(i.elem=null)),i.dragHandle&&(i.dragHandle=$(i.dragHandle).eq(0),i.dragHandle.length||(i.dragHandle=null)),e.on(i.trigger+".dialog",function(){v.init(i)}),i.target=e,this.__o__=i}};_.prototype={destroy:function(){if(this.__o__){var e=this.__o__;i.is(":visible")&&this.close(),e.elem&&(e.elem.hide(),h.append(e.elem)),t.remove(),i.remove(),t=i=null,e.target.off(e.trigger+".dialog likeopen likeclose"),delete this.__o__}},on:function(e,t){if(this.__o__){var o=this;o.__o__.target.on("like"+e,function(n){n.type=e,n.target=i[0],t.call(o,n),n.stopPropagation()})}return this},un:function(e){return this.__o__&&this.__o__.target.off("like"+e),this},close:function(){return this.__o__&&v.close(this.__o__),this}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Dialog=_}),define("lazyload",function(){"use strict";$.fn.__offset__=function(){var e={top:0,left:0},t=this[0];return t&&1===t.nodeType?{top:t.offsetTop,left:t.offsetLeft}:e};var e={triggerHandle:function(e,t){var i,o=e.threshold,n=e.scroll;return i=e.isReverse?t.offsetReverse:t.offsetForward,i>=n-o&&i<=e.size+n+o},load:{img:function(t,i,o){var n,r=t.attrName;"IMG"===i[0].tagName&&(n=i.attr(r),n&&(t.effects&&o&&i.css("visibility","hidden").one("load",function(){e.effects[t.effects](t,this)}),i[0].src=n,i.removeData("offset").removeAttr(r)))},dom:function(e,t){var i,o=t.val();"TEXTAREA"===t[0].tagName&&(i=t.parent(),i.html(o),i.trigger("likeload"),t.remove())}}};e.effects={fade:function(e,t){$(t).css({display:"none",visibility:""}).fadeIn(e.duration)}},$.each({slideX:["left","width"],slideY:["top","height"]},function(t,i){var o=i[0],n=i[1];e.effects[t]=function(e,t){t=$(t);var i=t.parent(),r={},a={},s=function(){t.css({position:"",top:"",left:""}),i.css({overflow:"",position:""})};r[o]="-"+t[n]()+"px",a[o]="0px",i.css({overflow:"hidden",position:"relative"}),t.css({position:"relative",visibility:""}).css(r).animate(a,e.duration,s)}});var t=function(t,i){if(t=$(t),i=i||{},t.length){var o=$.extend({type:"img",trigger:"scroll",container:window,axis:"y",threshold:0,duration:400,attrName:"data-lazysrc"},i),n="y"===o.axis,r=$(window),a=o.type,s=$(o.container),l=$.makeArray(t),d=e.triggerHandle,c=n?"top":"left",f="scroll"===o.trigger,u=$.isWindow(s[0]),p=u?"offset":"__offset__",h=f?s:t,g=n?"height":"width",m=n?"outerHeight":"outerWidth",v=n?"scrollTop":"scrollLeft";if(l&&l.length){o.originalScroll=0,o.isReverse=null;var _=function(t){var i,n,f,u,h,_,x=0,w=!1;for(o.scroll=s[v](),o.size=s[g](),o.isReverse=o.scroll<o.originalScroll?!0:!1,o.originalScroll=o.scroll,t&&(_=t.type,"scroll"!==_&&"resize"!==_&&(w=!0));x<l.length;x++)u=$(l[x]),w?i=w:(n=u.data("offset"),void 0===n&&(h=u.parent(),f=h[p]()[c],n={offsetForward:f,offsetReverse:f+h[m]()},u.data("offset",n)),i=d(o,n,_)),i&&(i=!1,e.load[a](o,u,"scroll"===_),l.splice(x--,1));l.length||(s.off(_+".lazyload"),r.off("resize.lazyload"),l=null)};h[f?"on":"one"](o.trigger+".lazyload",_),u&&r.on("resize.lazyload",_),f&&_({type:"scroll"}),o.target=t,this.__o__=o}}};t.prototype={on:function(e,t){if(!this.__o__)return this;var i=this.__o__,o=this,n=i.target,r="img"===i.type?e:"like"+e,a=function(i){$(this).off(r),i.type=e,t.call(o,i),i.stopPropagation()};return"img"===i.type?n.on(r,a):n.each(function(){$(this).parent().on(r,a)}),this}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Lazyload=t}),define("htmlslider",function(){"use strict";Jumei.using("ui").HtmlSlidePlayer=function(t,i){this.obj=t,this.n=0,this.j=0,this.first_show=1;var o,n=this,r=this.obj,a={fontsize:12,right:10,bottom:15,time:5e3,autosize:0,slidearrow:!1,dot:!0};this.config=$.extend(a,i),this.count=$(r+" li").length,this.factory=function(){var e=$("<div class='slide_control'></div>");$(r).prepend(e),this.config.dot||e.hide(),$(r+" li").css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"}).hide().each(function(t){e.append("<a>"+(t+1)+"</a>")}),this.count<=1&&e.hide(),this.resetclass(r+" .slide_control a",0);var t=$(r+" li").first(),i=$("img[lazyload]",t);$.each(i,function(){$(this).attr("src",$(this).attr("lazyload")).removeAttr("lazyload")}),t.length>0&&t.attr("lazyload")&&t.css("background-image","url("+t.attr("lazyload")+")").removeAttr("lazyload"),this.slide(),this.slidearrow(),o=setInterval(this.autoplay,this.config.time),$(r+" .slide_control a").eq(0).triggerHandler("mouseover")},this.slidearrow=function(){var e,t;if(this.config.slidearrow&&this.count>1)e=$('<em class="slidearrow slidearrow_l"><</em>'),t=$('<em class="slidearrow slidearrow_r">></em>'),$(r).append(e).append(t);else{var i=$(r).find(".img_slider_btn");i.length&&(e=i.eq(0),t=i.eq(1))}t&&e&&(t.bind("click",function(){n.n==n.count-1?$(r+" .slide_control a").eq(0).triggerHandler("mouseover"):$(r+" .slide_control a").eq(n.n+1).triggerHandler("mouseover")}),e.bind("click",function(){0===n.n?$(r+" .slide_control a").eq(n.count-1).triggerHandler("mouseover"):$(r+" .slide_control a").eq(n.n-1).triggerHandler("mouseover")}))},this.slide=function(){e.lazyhover($(r+" .slide_control a"),function(){if(n.j=$(this).text()-1,n.n=n.j,!(n.j>=n.count)){if(n.first_show)n.first_show=0,$(r+" li:eq("+n.j+")").show().siblings("li").hide();else{var e,t=$(r+" li:eq("+n.j+")");n.count>=n.j+1&&(e=$(r+" li:eq("+(n.j+1)+")")),t.fadeIn("200").siblings("li").fadeOut("200");var i=$("img[lazyload]",t);$.each(i,function(){$(this).attr("src",$(this).attr("lazyload")).removeAttr("lazyload")});var o,a=t.attr("lazyload");if(a||(o=t.find("a"),a=o.attr("lazyload")),void 0!==a&&(o?o.css("background","url("+a+") no-repeat center 0").removeAttr("lazyload"):t.css("background-image","url("+a+")").removeAttr("lazyload"),void 0!==e&&e.length>=1)){var s,l=e.attr("lazyload");
l||(s=e.find("a"),l=o.attr("lazyload")),void 0!==l&&(s?s.css("background","url("+l+") no-repeat center 0").removeAttr("lazyload"):e.css("background-image","url("+l+")").removeAttr("lazyload"))}}n.resetclass(r+" .slide_control a",n.j)}},200,500)};var s=$(r+" li").length;$(r)[0].onmouseover=function(){clearInterval(o),s>1&&$(r+" .img_slider_btn").css("display","block")},$(r)[0].onmouseout=function(){o=setInterval(n.autoplay,n.config.time),s>1&&$(r+" .img_slider_btn").hide()},this.autoplay=function(){n.n=n.n>=n.count-1?0:++n.n,$(r+" .slide_control a").eq(n.n).triggerHandler("mouseover")},this.resetclass=function(e,t){$(e).removeClass("mall_dot_hover").addClass("mall_dot"),$(e).eq(t).addClass("mall_dot_hover")},this.factory()};var e={lazyhover:function(e,t,i,o){var n,r=1,a=function(i){return clearTimeout(n),r||e.removeData("timer"),r?t.apply(i):null},s=i||0,l=o||500,d=function(t){n&&clearTimeout(n),n=setTimeout(function(){a(t)},r?s:l),e.data("timer",n)};return e.hover(function(){r=1,d(this)},function(){r=0,d(this)}),e}}}),define("gotop",function(){var e,t={position:{bottom:"0px",right:"0px"},fixed:!0,isAnim:!1},i=!1,o=!0,n=$(window),r=Math.round(n.height()/2);$.easing.easeOutStrong=function(e){return 1- --e*e*e*e};var a=function(){e.is(":animated")&&e.stop(!0,!0)},s=function(){n.bind("scroll.gotop",function(){var t=$(this).scrollTop();t>r?i||(i=!0,a(),e.css("visibility","visible"),e.fadeIn()):i&&(i=!1,a(),e.fadeOut(400,function(){e.css({visibility:"hidden",display:"block"})}))})},l=function(){n.unbind("scroll.gotop")},d=function(t){e.find("a.btn_gotop").bind("click.gotop",function(i){var o;e.hide(),t.isAnim?(o=Math.round(.33*n.scrollTop()),l(),$("body,html").animate({scrollTop:0},o,"easeOutStrong",function(){s()})):n.scrollTop(0),i.preventDefault()})},c=function(i,n){$.isPlainObject(i)&&(n=i,i=null),n=n||{};var r,a=$.extend({},t,n),l=a.position;e=$("#gotop"),e.length||(o=!1,e=$('<div class="gotop" id="gotop" style="display:none;"><a href="javascript:;" class="btn_gotop">返回顶部</a></div>')),a.fixed&&(i&&(i=$(i).eq(0),r=Math.round(i.outerWidth()/2),e.css({marginLeft:r+parseInt(l.left)+"px"}),l.left="50%"),o||e.appendTo(document.body),Jumei.util.fixed(e[0],l)),s(),d(a),a.target=i,this.__o__=a};c.prototype={position:function(t){var i,o=this.__o__.target;o&&(i=Math.round(o.outerWidth()/2),e.css({marginLeft:i+parseInt(t.left)+"px"}),t.left="50%"),Jumei.util.fixed(e[0],t)}},window.Jumei=window.Jumei||{},window.Jumei.ui=window.Jumei.ui||{},window.Jumei.ui.Gotop=c}),define("util",function(){"use strict";window.Jumei=window.Jumei||{},Jumei.using=function(){var e,t,i,o,n=arguments,r=this;if(i=n[0],o=n[1],i&&i.indexOf("."))for(t=i.split("."),e="Jumei"==t[0]?1:0;e<t.length;e++){if(!r[t[e]]&&o)return null;r[t[e]]=r[t[e]]||{},r=r[t[e]]}else r[i]=r[i]||{};return r},function(e){e.cookie={set:function(e,t,i){i||(i={});var o=new Date,n=i.exp;"number"==typeof n?o.setTime(o.getTime()+36e5*n):"forever"===n?o.setFullYear(o.getFullYear()+50):null===t?(t="",o.setTime(o.getTime()-36e5)):o=n instanceof Date?n:"",document.cookie=e+"="+encodeURIComponent(t)+(o&&"; expires="+o.toUTCString())+"; domain="+(i.domain||".jumeiglobal.com")+"; path="+(i.path||"/")+(i.secure?"; secure":"")},get:function(e){e+="=";for(var t,i=(document.cookie||"").split(";"),o=e.length,n=i.length;n--;)if(t=i[n].replace(/^\s+/,""),t.slice(0,o)===e)return decodeURIComponent(t.slice(o)).replace(/\s+$/,"");return""}}}(Jumei.using("util")),function(e){$.extend(e,{throttle:function(e,t){var i;return function(){var o=this,n=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(o,n)},t)}},fixed:function(e,t){var i,o,n,r,a,s=document.documentElement,l=e.style,d=!!~navigator.userAgent.toLowerCase().indexOf("msie 6.0");t?(o=t.top,n=t.bottom,r=t.right,a=t.left):(o="0px",a="0px"),void 0!==a?l.left=a:l.right=r,d?("fixed"!==s.currentStyle.backgroundAttachment&&(s.style.backgroundImage="url(about:blank)",s.style.backgroundAttachment="fixed"),void 0!==o?t=parseInt(o):void 0!==n&&(i=e.offsetHeight,i||(l.visibility="hidden",l.display="block",i=e.offsetHeight,l.visibility="",l.display="none"),t=s.clientHeight-i-parseInt(n),window.onresize=function(){t=s.clientHeight-i-parseInt(n),l.setExpression("top","fuckIE6=document.documentElement.scrollTop + "+t+' + "px"')}),"BODY"!==e.parentNode.tagName&&document.body.appendChild(e),l.position="absolute",l.setExpression("top","fuckIE6=document.documentElement.scrollTop + "+t+' + "px"')):(l.position="fixed",void 0!==o?l.top=o:l.bottom=n)},capitalize:function(e){var t=e.charAt(0);return t.toUpperCase()+e.replace(t,"")},parseUrl:function(e,t){e=e||(t?window.location.hash:window.location.search);var i,o,n,r,a,s,l=t?"#":"?",d={},c=0;if(!~e.indexOf(l)||e.slice(-1)===l)return d;for(i=e.slice(e.indexOf(l)+1),o=i.split("&"),n=o.length;n>c;c++)r=o[c],a=r.indexOf("="),s=r.slice(0,a),d[s]=r.slice(a+1);return d},findNumIndex:function(e){for(var t,i=0;i<e.length;i++)if(t=e.charAt(i),t.match(/^\d$/g))return i;return-1},reallength:function(e){return e.replace(/[^\x00-\xff]/g,"^^").length},clipstring:function(e,t){if(!e||!t)return"";var i=0,o=0,n="";for(o=0;o<e.length;o++){if(e.charCodeAt(o)>255?i+=2:i++,i>t)return n+"..";n+=e.charAt(o)}return e},replaceNotNumber:function(e){return e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e.replace(".","$#$").replace(/\./g,"").replace("$#$",".")},gotoAnchor:function(e){var t=$(e);if(!(t.length<0)){var i=$(window),o=$(window.document.documentElement),n=navigator.userAgent.toLowerCase();n.indexOf("webkit")>-1&&(o=$(window.document.body));var r=t.offset(),a=r.top-i.scrollTop(),s=i.height()-a;s<t.outerHeight()&&o.animate({scrollTop:r.top},"normal")}},getDifTime:function(e,t){var i,o,n,r,a,s={DD:"00",D:"0",HH:"00",MM:"00",SS:"00",TT:"00",H:"0",M:"0",S:"0",T:"0"};return e=parseInt(1e3*e),o=e,o>0?(i=parseInt(o/864e5).toString(),s.DD=s.D=i,i.toString().length<2&&(s.DD="0"+i),o%=864e5,n=parseInt(o/36e5).toString(),s.HH=s.H=n,n.toString().length<2&&(s.HH="0"+n),o%=36e5,r=parseInt(o/6e4).toString(),s.MM=s.M=r,r.toString().length<2&&(s.MM="0"+r),a=parseInt(o%6e4/100),o=parseInt(a/10),s.TT=s.T=a-10*o,s.SS=s.S=o,o.toString().length<2&&(s.SS="0"+o),t.replace(/\b[DHMST]+\b/g,function(e){return s[e]||0})):""},addFavorite:function(e,t){try{window.external.addFavorite(e,t)}catch(i){try{window.sidebar.addPanel(t,e,"")}catch(o){alert("您的浏览器不支持点击收藏，请按快捷键Ctrl+d收藏聚美优品")}}},hoverIntent:function(e,t){var i={interval:100,sensitivity:6,timeout:0};i=$.extend(i,t);var o,n,r,a,s=function(e){o=e.pageX,n=e.pageY},l=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((r-o)*(r-o)+(a-n)*(a-n))<i.sensitivity?($(t).off("mousemove.hoverIntent",s),t.hoverIntent_s=!0,i.over.apply(t,[e])):(r=o,a=n,t.hoverIntent_t=setTimeout(function(){l(e,t)},i.interval),void 0)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,i.out.apply(t,[e])},c=function(e){var t=$.extend({},e),o=this;o.hoverIntent_t&&(o.hoverIntent_t=clearTimeout(o.hoverIntent_t)),"mouseenter"===e.type?(r=t.pageX,a=t.pageY,$(o).on("mousemove.hoverIntent",s),o.hoverIntent_s||(o.hoverIntent_t=setTimeout(function(){l(t,o)},i.interval))):($(o).off("mousemove.hoverIntent",s),o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){d(t,o)},i.timeout)))};return e.on({"mouseenter.hoverIntent":c,"mouseleave.hoverIntent":c},i.selector)}})}(Jumei.using("util"))}),define("ui",["util","gotop","htmlslider","lazyload","dialog","carousel","anchorbar","timer","tab"],function(e){e("util"),e("gotop"),e("htmlslider"),e("lazyload"),e("dialog"),e("carousel"),e("anchorbar"),e("timer"),e("tab")});